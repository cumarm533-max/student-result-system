<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Student Results â€” Login</title>
<style>
  body{font-family:Arial,Helvetica,sans-serif;background:#f3f6fb;margin:0;padding:0;display:flex;align-items:center;justify-content:center;height:100vh}
  .card{background:white;padding:22px;border-radius:10px;box-shadow:0 10px 30px rgba(20,40,80,0.08);width:360px}
  h2{margin:0 0 8px;font-size:20px}
  input{width:100%;padding:10px;margin:8px 0;border:1px solid #e6eefc;border-radius:8px}
  button{width:100%;padding:10px;border-radius:8px;border:0;background:#2563eb;color:white;font-weight:600}
  .muted{font-size:13px;color:#6b7280;margin-top:8px;text-align:center}
  .small{font-size:13px;color:#374151}
  .link-row{display:flex;justify-content:space-between;margin-top:10px}
  .ghost{background:transparent;color:#2563eb;border:1px solid rgba(37,99,235,0.12);width:auto;padding:8px 12px;border-radius:8px}
</style>
</head>
<body>
  <div class= "card">
    <h2>Student Login</h2>
    <p class="small">Use the ID and password provided by your school.</p>
    <input id="studentId" placeholder="Use Your ID" />
    <input id="studentPass" placeholder="Password" type="password" />
    <button onclick="login()">Login</button>
    <div class="link-row">
      <button class="ghost" onclick="showExample()"></button>
      <button class="ghost" onclick="clearSession()">Clear</button>
    </div>
    <div class="muted" id="msg"></div>
  </div>

<script>
function getStudents(){
  try{
    const raw = localStorage.getItem('students_v1');
    return raw? JSON.parse(raw) : [];
  }catch(e){ return [];}
}

function login(){
  const id = document.getElementById('studentId').value.trim();
  const pass = document.getElementById('studentPass').value.trim();
  const msg = document.getElementById('msg');
  msg.textContent = '';
  if(!id || !pass){ msg.textContent = 'Enter both ID and password.'; return; }
  const students = getStudents();
  const found = students.find(s => String(s.id) === String(id) && String(s.pass) === String(pass));
  if(!found){ msg.textContent = 'Incorrect ID or password.'; return; }
  // set session marker and redirect to result page
  sessionStorage.setItem('loggedStudentId', found.id);
  window.location.href = 'result.html';
}

function showExample(){
  alert('Sample ID: S001\nSample password: A7F9K2\n(These are in the sample data if you loaded the system.)');
}

function clearSession(){
  sessionStorage.removeItem('loggedStudentId');
  document.getElementById('studentId').value = '';
  document.getElementById('studentPass').value = '';
  document.getElementById('msg').textContent = 'Cleared.';
}
</script>
</body>
</html>
